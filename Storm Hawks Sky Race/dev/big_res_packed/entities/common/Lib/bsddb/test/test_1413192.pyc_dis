# Embedded file name: /entities/common/Lib/bsddb/test/test_1413192.py
import shutil
import tempfile
import warnings
try:
    from bsddb3 import db
except ImportError:
    from bsddb import db

env_name = tempfile.mkdtemp()

class Context:

    def __init__(self):
        self.env = db.DBEnv()
        self.env.open(env_name, db.DB_CREATE | db.DB_INIT_TXN | db.DB_INIT_MPOOL)
        self.the_txn = self.env.txn_begin()
        self.map = db.DB(self.env)
        self.map.open('xxx.db', 'p', db.DB_HASH, db.DB_CREATE, 438, txn=self.the_txn)
        del self.env
        del self.the_txn


warnings.filterwarnings('ignore', 'DBTxn aborted in destructor')
try:
    context = Context()
    del context
finally:
    warnings.resetwarnings()

try:
    shutil.rmtree(env_name)
except EnvironmentError:
    pass