# Embedded file name: /entities/client/Bitcasters/mode/cursor.py
import BigWorld, GUI

class _cursor_impl:

    def __init__(self):
        self.previous = []
        self.locked = False

    def __call__(self, name):
        if self.locked:
            return
        prev = name == 'previous'
        if prev:
            name = self.previous[-1]
            self.previous.pop()
        try:
            x = getattr(self, '_' + name)
        except AttributeError as why:
            raise AttributeError, 'cursor name must be one of %s' % [ x[1:] for x in dir(_cursor_impl) if x.startswith('_') and not x.startswith('__') ]

        x()
        if not prev:
            self.previous.append(name)

    def _mouse(self):
        mc = GUI.mcursor()
        mc.position = (0, 0)
        mc.visible = True
        mc.shape = 'point'
        BigWorld.setCursor(mc)

    def _none(self):
        BigWorld.setCursor(None)
        return

    def _direction(self):
        BigWorld.setCursor(BigWorld.dcursor())
        GUI.mcursor().visible = False
        BigWorld.player().physics.velocityMouse = 'Direction'


cursor = _cursor_impl()